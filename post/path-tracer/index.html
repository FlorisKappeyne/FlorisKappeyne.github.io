<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>My Portfolio  | My Path Tracer</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.37" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    <link href='https://floriskappeyne.github.io/dist/main.css' rel='stylesheet' type="text/css" />
    
      
    

    

    <meta property="og:title" content="My Path Tracer" />
<meta property="og:description" content="A C&#43;&#43; based path tracer." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://floriskappeyne.github.io/post/path-tracer/" />



<meta property="article:published_time" content="2017-04-15T11:00:59-04:00"/>

<meta property="article:modified_time" content="2017-04-15T11:00:59-04:00"/>











<meta itemprop="name" content="My Path Tracer">
<meta itemprop="description" content="A C&#43;&#43; based path tracer.">


<meta itemprop="datePublished" content="2017-04-15T11:00:59-04:00" />
<meta itemprop="dateModified" content="2017-04-15T11:00:59-04:00" />
<meta itemprop="wordCount" content="375">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="My Path Tracer"/>
<meta name="twitter:description" content="A C&#43;&#43; based path tracer."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  
  
  <header class="cover bg-top" style="background-image: url('https://floriskappeyne.github.io/images/path-tracer-4096spp.png');">
    <div class="pb3-m pb6-l bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://floriskappeyne.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      My Portfolio
    </a>
    <div class="flex-l items-center">
      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About me page">
              About me
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/post/" title="Projects page">
              Projects
            </a>
          </li>
          
        </ul>
      
      
    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">My Path Tracer</h1>
        
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
            A C&#43;&#43; based path tracer.
          </h2>
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  <div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      
      <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img black">
        My Path Tracer is a hobby project. I worked on this outside of school hours and will probably continue to do so for a long time. It&#39;s a project that taught me a lot about subjects ranging from debugging and profiling all the way up to multi-threading, acceleration structures, SIMD, optimization, templates and a whole lot more. I have no clear goals for this project, I just add things I find interesting.
      </section>
      <br>
      
<head>
<style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 3px;
    text-align: left;
    line-height: 1;
}
</style>
</head>

<div class="nested-links f5 lh-copy nested-copy-line-height"><dl>
<table style="width:100%">
  <tr>
    <td><b>Engine:</b></td>
    <td>Chili DirectX framework</td>
  </tr>
  <tr>
    <td><b>Tools:</b></td>
    <td>Visual Studio 2017 Community</td>
  </tr>
  <tr>
    <td><b>Roles:</b></td>
    <td>Graphics, Tools and Engine programmer</td>
  </tr>
  <tr>
    <td><b>Team:</b></td>
    <td>Just me</td>
  </tr>
  <tr>
    <td><b>Lifetime:</b></td>
    <td>2017 - now, ongoing</td>
  </tr>
</table>
</div>

      <br>
      <br>
      <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray">
        

<h2 id="the-project">The project</h2>

<p>I started with my path tracer somewhere in March 2017 and still continue to work on it. At the start of the program, I made a basic ray tracer. A few weeks later I borrowed a book from the library (PBRT, click <a href="http://www.pbrt.org/">here</a> to learn more) which made me increase my goal to make a full blown physically based renderer. I followed the basic structure of PBRT for a long time but ultimately I added so many changes of my own that it&rsquo;s not really recognizable anymore. <a href="https://jbikker.github.io/literature/Ray%20Tracing%20in%20Real-time%20Games%20-%202012.pdf">Jacco Bikkers</a> and his thesis were also a huge help for me.</p>

<p>I wrote the path tracer in C++, and don&rsquo;t use many libraries. The ones I do use are a for font rendering (FW1 Font Wrapper), for outputting a .png file (Tiny PNG Output) and for parsing .json files (JSONCPP). I also use a framework made by ChiliTomatoNoodle for rendering the image to the screen each frame, and for handling user input.</p>


<figure>
    
        <img src="/images/path-tracer-4096spp.png" alt="Latest and greatest render of my path tracer" />
    
    
    <figcaption>
        <p>
        Latest and greatest render of my path tracer
        
            
        
        </p> 
    </figcaption>
    
</figure>


<p>The following video shows the renderer&rsquo;s images at varying samples per pixel. From noisiest to cleanest: 1, 4, 16, 64, 256, 1024 and 4096 samples per pixel.
<video width="600" controls>
  <source src="/images/path-tracer-spp.mp4" type="video/mp4">
  This video cannot be played.
</video></p>

<p>I have many plans for the future. Some of them are for usability as an actual renderer (loading models and textures, ease of use, denoising) and some of them are just for fun (making my own scalable array class (like std::vector), next event estimation, bloom and other post processing effects).</p>

<p>Download a toned down version <a href="/games/Renderer.zip">here</a>.</p>

<h2 id="what-i-did">What I did</h2>

<ul>
<li>I made a path tracer that handles global illumination and multiple surfaces (diffuse, mirror and glass so far)</li>
<li>I kept the system adaptable: materials, renderers and samplers can be easily swapped out to try different types.</li>
<li>I made a simple scene factory that reads from json files</li>
<li>My acceleration structure is an SAH optimized BVH with SSE accelerated ray-bounding box intersection</li>
<li>most high profile code has been multithreaded</li>
<li>Custom math library (2 and 3d vectors and 4x4 matrices) and</li>
<li>Tried my hand at making a denoising sampler: it only samples the pixels that need it to better spend resources, but results are disappointing so far.</li>
<li>I made Russian Roulette to speed up frame time.</li>
</ul>

      </section>
      


    </article>
    <div class="ph3 mt2 mt6-ns">
      







  <div class="bg-light-gray pa3">
    <ul>
      <li class="list b mb3">
        Other Projects:
      </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/post/meadow-folk/" class="link ph2 pv2 db black">
            Arboreal
          </a>
        </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/post/path-tracer/" class="link ph2 pv2 db black o-50">
            My Path Tracer
          </a>
        </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/post/agr/" class="link ph2 pv2 db black">
            AGR: The Fastest Drifter
          </a>
        </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/post/clouded/" class="link ph2 pv2 db black">
            Clouded
          </a>
        </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/post/kick-the-pig/" class="link ph2 pv2 db black">
            Kick the Pig
          </a>
        </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/post/orbis/" class="link ph2 pv2 db black">
            Orbis
          </a>
        </li>
      
    </ul>
  </div>


    </div>
  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://floriskappeyne.github.io/" >
    &copy; 2018 My Portfolio
  </a>
  



  <a href="https://twitter.com/GoHugoIO" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>






  </div>
</footer>

    <script src="https://floriskappeyne.github.io/dist/app.bundle.js" async></script>

  </body>
</html>
